(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{29:function(e,t,n){e.exports=n(58)},34:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(26),o=n.n(l),i=(n(34),n(6)),s=n(7),c=n(9),u=n(10),d=n(8),m=n.n(d),h=n(4),p=n(5),g=function(){return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/login"},"Log In"),r.a.createElement("br",null),r.a.createElement(h.b,{to:"/signup"},"Sign Up"))},f=n(12),E=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={first_name:t.first_name,last_name:t.last_name,email:t.email,password:t.password};m.a.post("http://localhost:3001/login",{landlord:n},{withCredentials:!0}).then((function(e){e.data.logged_in?(a.props.handleLogin(e.data),a.redirect()):a.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},a.redirect=function(){a.props.history.push("/")},a.handleErrors=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,a.state.errors.map((function(e){return r.a.createElement("li",{key:e},e)}))))},a.state={first_name:"",last_name:"",email:"",password:"",errors:""},a}return Object(s.a)(n,[{key:"componentWillMount",value:function(){return this.props.loggedInStatus?this.redirect():null}},{key:"render",value:function(){var e=this.state,t=e.first_name,n=e.last_name,a=e.email,l=e.password,o=e.errors;return r.a.createElement("div",null,r.a.createElement("h1",null,"Log In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"first name",type:"text",name:"first_name",value:t,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"last name",type:"text",name:"last_name",value:n,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"email",type:"text",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"password",type:"password",name:"password",value:l,onChange:this.handleChange}),r.a.createElement("button",{placeholder:"submit",type:"submit"},"Log In"),r.a.createElement("div",null,"or ",r.a.createElement(h.b,{to:"/signup"},"Sign up"))),r.a.createElement("div",null,o?this.handleErrors():null))}}]),n}(a.Component),v=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={first_name:t.first_name,last_name:t.last_name,email:t.email,password:t.password,password_confirmation:t.password_confirmation};m.a.post("http://localhost:3001/landlords",{landlord:n},{withCredentials:!0}).then((function(e){200===e.data.status?(a.props.handleLogin(e.data),a.redirect()):a.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},a.redirect=function(){a.props.history.push("/")},a.handleErrors=function(){return r.a.createElement("div",null,r.a.createElement("ul",null,a.state.errors.map((function(e){return r.a.createElement("li",{key:e},e)}))))},a.state={first_name:"",last_name:"",email:"",password:"",password_confirmation:"",errors:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.first_name,n=e.last_name,a=e.email,l=e.password,o=e.password_confirmation;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{placeholder:"first name",type:"text",name:"first_name",value:t,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"last name",type:"text",name:"last_name",value:n,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"email",type:"text",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"password",type:"password",name:"password",value:l,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"password confirmation",type:"password",name:"password_confirmation",value:o,onChange:this.handleChange}),r.a.createElement("button",{placeholder:"submit",type:"submit"},"Sign Up"),r.a.createElement("div",null,"or ",r.a.createElement(h.b,{to:"/login"},"Log In"))),r.a.createElement("div",null,this.state.errors?this.handleErrors():null))}}]),n}(a.Component),b=(n(57),function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).loginStatus=function(){m.a.get("http://localhost:3001/logged_in",{withCredentials:!0}).then((function(e){e.data.logged_in?a.handleLogin(e):a.handleLogout()})).catch((function(e){return console.log("api errors:",e)}))},a.handleLogin=function(e){a.setState({isLoggedIn:!0,landlord:e.landlord})},a.handleLogout=function(){a.setState({isLoggedIn:!1,landlord:{}})},a.state={isLoggedIn:!1,landlord:{}},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.loginStatus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(g,Object.assign({},t,{loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(p.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(E,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),r.a.createElement(p.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(v,Object.assign({},t,{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}))))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.d37969ef.chunk.js.map