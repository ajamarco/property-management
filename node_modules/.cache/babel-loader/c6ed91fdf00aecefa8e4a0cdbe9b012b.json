{"ast":null,"code":"import _classCallCheck from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import{BrowserRouter,Switch,Route}from'react-router-dom';import Home from'./components/Home';import Login from'./components/registrations/Login';import Signup from'./components/registrations/Signup';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.loginStatus=function(){axios.get('http://localhost:3001/logged_in',{withCredentials:true}).then(function(response){if(response.data.logged_in){_this.handleLogin(response);}else{_this.handleLogout();}}).catch(function(error){return console.log('api errors:',error);});};_this.handleLogin=function(data){debugger;_this.setState({isLoggedIn:true,landlord:data.landlord});};_this.handleLogout=function(){_this.setState({isLoggedIn:false,landlord:{}});};_this.state={isLoggedIn:false,landlord:{}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.loginStatus();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/React.createElement(Home,Object.assign({},props,{loggedInStatus:_this2.state.isLoggedIn}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{handleLogin:_this2.handleLogin,loggedInStatus:_this2.state.isLoggedIn}));}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signup\",render:function render(props){return/*#__PURE__*/React.createElement(Signup,Object.assign({},props,{handleLogin:_this2.handleLogin,loggedInStatus:_this2.state.isLoggedIn}));}}))));}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/src/App.js"],"names":["React","Component","axios","BrowserRouter","Switch","Route","Home","Login","Signup","App","props","loginStatus","get","withCredentials","then","response","data","logged_in","handleLogin","handleLogout","catch","error","console","log","setState","isLoggedIn","landlord","state"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,aAAR,CAAuBC,MAAvB,CAA+BC,KAA/B,KAA2C,kBAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kCAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mCAAnB,CACA,MAAO,WAAP,C,GAGqBC,CAAAA,G,0FACrB,aAAYC,KAAZ,CAAkB,qCAChB,uBAAMA,KAAN,EADgB,MAYlBC,WAZkB,CAYJ,UAAM,CAClBT,KAAK,CAACU,GAAN,CAAU,iCAAV,CAA6C,CAACC,eAAe,CAAE,IAAlB,CAA7C,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,SAAlB,CAA4B,CAC1B,MAAKC,WAAL,CAAiBH,QAAjB,EACD,CAFD,IAEK,CACH,MAAKI,YAAL,GACD,CACF,CAPD,EAQCC,KARD,CAQO,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,KAA3B,CAAJ,EARZ,EASD,CAtBiB,OAyBlBH,WAzBkB,CAyBJ,SAACF,IAAD,CAAU,CACtB,SACF,MAAKQ,QAAL,CAAc,CACZC,UAAU,CAAE,IADA,CAEZC,QAAQ,CAAEV,IAAI,CAACU,QAFH,CAAd,EAIC,CA/BiB,OAiClBP,YAjCkB,CAiCH,UAAM,CACnB,MAAKK,QAAL,CAAc,CACZC,UAAU,CAAE,KADA,CAEZC,QAAQ,CAAE,EAFE,CAAd,EAID,CAtCiB,CAEhB,MAAKC,KAAL,CAAa,CACXF,UAAU,CAAE,KADD,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAFgB,aAMjB,C,6EAEkB,CACjB,KAAKf,WAAL,GACD,C,uCAiCQ,iBACP,mBACE,4CACE,oBAAC,aAAD,mBACE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,GADb,CAEE,MAAM,CAAE,gBAAAD,KAAK,qBACb,oBAAC,IAAD,kBAAUA,KAAV,EAAiB,cAAc,CAAE,MAAI,CAACiB,KAAL,CAAWF,UAA5C,GADa,EAFf,EADF,cAOE,oBAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,QADb,CAEE,MAAM,CAAE,gBAAAf,KAAK,qBACb,oBAAC,KAAD,kBAAWA,KAAX,EAAkB,WAAW,CAAE,MAAI,CAACQ,WAApC,CAAiD,cAAc,CAAE,MAAI,CAACS,KAAL,CAAWF,UAA5E,GADa,EAFf,EAPF,cAaE,oBAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,SADb,CAEE,MAAM,CAAE,gBAAAf,KAAK,qBACb,oBAAC,MAAD,kBAAYA,KAAZ,EAAmB,WAAW,CAAE,MAAI,CAACQ,WAArC,CAAkD,cAAc,CAAE,MAAI,CAACS,KAAL,CAAWF,UAA7E,GADa,EAFf,EAbF,CADF,CADF,CADF,CA0BD,C,iBAvEgCxB,S,SAAZQ,G","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport Home from './components/Home'\nimport Login from './components/registrations/Login'\nimport Signup from './components/registrations/Signup'\nimport './App.css';\n\n\nexport default class App extends Component {\nconstructor(props){\n  super(props);\n  this.state = {\n    isLoggedIn: false,\n    landlord: {}\n  };\n}\n\ncomponentDidMount(){\n  this.loginStatus()\n}\n\nloginStatus = () => {\n  axios.get('http://localhost:3001/logged_in', {withCredentials: true})\n  .then(response => {\n    if (response.data.logged_in){\n      this.handleLogin(response)\n    }else{\n      this.handleLogout()\n    }\n  })\n  .catch(error => console.log('api errors:', error))\n}\n\n\nhandleLogin = (data) => {\n  debugger\nthis.setState({\n  isLoggedIn: true,\n  landlord: data.landlord\n})\n}\n\nhandleLogout = () => {\n  this.setState({\n    isLoggedIn: false,\n    landlord: {}\n  })\n}\n\n\n\n\nrender() {\n  return (\n    <div>\n      <BrowserRouter>\n        <Switch>\n          <Route \n            exact path='/' \n            render={props => (\n            <Home {...props} loggedInStatus={this.state.isLoggedIn}/>\n            )}\n          />\n          <Route \n            exact path='/login' \n            render={props => (\n            <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n            )}\n          />\n          <Route \n            exact path='/signup' \n            render={props => (\n            <Signup {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n            )}\n          />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n}\n"]},"metadata":{},"sourceType":"module"}