{"ast":null,"code":"import _defineProperty from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,first_name=_this$state.first_name,last_name=_this$state.last_name,email=_this$state.email,password=_this$state.password,password_confirmation=_this$state.password_confirmation;debugger;var landlord={first_name:first_name,last_name:last_name,email:email,password:password,password_confirmation:password_confirmation};axios.post('http://localhost:3001/landlords',{landlord:landlord},{withCredentials:true}).then(function(response){if(response.data.status===200){_this.props.handleLogin(response.data);_this.redirect();}else{_this.setState({errors:response.data.errors});}}).catch(function(error){return console.log('api errors:',error);});};_this.redirect=function(){_this.props.history.push('/');};_this.handleErrors=function(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",null,_this.state.errors.map(function(error){return/*#__PURE__*/React.createElement(\"li\",{key:error},error);})));};_this.state={first_name:'',last_name:'',email:'',password:'',password_confirmation:'',errors:''};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this$state2=this.state,first_name=_this$state2.first_name,last_name=_this$state2.last_name,email=_this$state2.email,password=_this$state2.password,password_confirmation=_this$state2.password_confirmation;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Sign Up\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"first name\",type:\"text\",name:\"first_name\",value:first_name,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"last name\",type:\"text\",name:\"last_name\",value:last_name,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"email\",type:\"text\",name:\"email\",value:email,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"password\",type:\"password\",name:\"password\",value:password,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"password confirmation\",type:\"password\",name:\"password_confirmation\",value:password_confirmation,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{placeholder:\"submit\",type:\"submit\"},\"Sign Up\"),/*#__PURE__*/React.createElement(\"div\",null,\"or \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Log In\"))),/*#__PURE__*/React.createElement(\"div\",null,this.state.errors?this.handleErrors():null));}}]);return Signup;}(Component);export{Signup as default};","map":{"version":3,"sources":["/Users/musta88/Development/code/Module4/property-managment/front-end-property-managment/src/components/registrations/Signup.js"],"names":["React","Component","axios","Link","Signup","props","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","state","first_name","last_name","email","password","password_confirmation","landlord","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","history","push","handleErrors","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\n\nexport default class Signup extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      first_name:'',\n      last_name: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      errors: ''\n    };\n  }\n\nhandleChange = (event) => {\n  const {name, value} = event.target\n  this.setState({\n    [name]: value\n  })\n};\n\nhandleSubmit = (event) =>{\nevent.preventDefault()\nconst {first_name, last_name, email, password, password_confirmation} = this.state\ndebugger\nlet landlord = {\n  first_name: first_name,\n  last_name: last_name,\n  email: email,\n  password: password,\n  password_confirmation: password_confirmation\n}\n\naxios.post('http://localhost:3001/landlords',{landlord}, {withCredentials: true})\n.then(response => {\n  if (response.data.status === 200){\n    this.props.handleLogin(response.data)\n    this.redirect()\n  }else {\n    this.setState({\n      errors: response.data.errors\n    })\n  }\n})\n.catch(error => console.log('api errors:', error))\n\n};\n\nredirect = () => {\n  this.props.history.push('/')\n}\n\nhandleErrors= () =>{\n  return (\n    <div>\n      <ul>\n        {this.state.errors.map((error) => {\n          return <li key={error}>{error}</li>\n        })}\n      </ul>\n    </div>\n  )\n}\n\n  render() {\n    const {first_name, last_name, email, password, password_confirmation} = this.state\n    return (\n      <div>\n        <h1>Sign Up</h1>\n        <form onSubmit={this.handleSubmit}>\n        <input\n        placeholder=\"first name\"\n        type=\"text\"\n        name=\"first_name\"\n        value={first_name}\n        onChange={this.handleChange}\n        />\n        <input\n        placeholder=\"last name\"\n        type=\"text\"\n        name=\"last_name\"\n        value={last_name}\n        onChange={this.handleChange}\n        />\n        <input\n          placeholder=\"email\"\n          type=\"text\"\n          name=\"email\"\n          value={email}\n          onChange={this.handleChange}\n        />\n        <input\n               placeholder=\"password\"\n               type=\"password\"\n               name=\"password\"\n               value={password}\n               onChange={this.handleChange}\n        />\n        <input\n               placeholder=\"password confirmation\"\n               type=\"password\"\n               name=\"password_confirmation\"\n               value={password_confirmation}\n               onChange={this.handleChange}\n        />\n        <button placeholder=\"submit\" type=\"submit\">\n          Sign Up\n        </button>\n        <div>\n          or <Link to='/login'>Log In</Link>\n        </div>\n        </form>\n        <div>\n          {\n            this.state.errors ? this.handleErrors() : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}